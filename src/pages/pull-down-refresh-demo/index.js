"use strict";
let timer;
Page({
    data: {
        trigger: false,
        title: '下拉刷新',
    },
    onLoad() {
        try {
            const eventChannel = this.getOpenerEventChannel();
            eventChannel.on('load', ({ title }) => {
                this.setData({ title });
                wx.setNavigationBarTitle({
                    title,
                });
            });
        }
        catch (error) { }
    },
    onRefresh() {
        wx.showLoading({
            title: '加载中',
        });
        timer = setTimeout(() => {
            wx.hideLoading();
            wx.showToast({
                title: '加载成功',
            });
            this.setData({ trigger: false });
        }, 3000);
    },
    onRestore() {
        wx.hideLoading();
        clearTimeout(timer);
    },
    onShareAppMessage() { },
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsSUFBSSxLQUFVLENBQUE7QUFFZCxJQUFJLENBQUM7SUFDSCxJQUFJLEVBQUU7UUFDSixPQUFPLEVBQUUsS0FBSztRQUNkLEtBQUssRUFBRSxNQUFNO0tBQ2Q7SUFDRCxNQUFNO1FBQ0osSUFBSTtZQUNGLE1BQU0sWUFBWSxHQUFHLElBQUksQ0FBQyxxQkFBcUIsRUFBRSxDQUFBO1lBQ2pELFlBQVksQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFO2dCQUNwQyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQTtnQkFDdkIsRUFBRSxDQUFDLHFCQUFxQixDQUFDO29CQUN2QixLQUFLO2lCQUNOLENBQUMsQ0FBQTtZQUNKLENBQUMsQ0FBQyxDQUFBO1NBQ0g7UUFBQyxPQUFPLEtBQUssRUFBRSxHQUFFO0lBQ3BCLENBQUM7SUFDRCxTQUFTO1FBQ1AsRUFBRSxDQUFDLFdBQVcsQ0FBQztZQUNiLEtBQUssRUFBRSxLQUFLO1NBQ2IsQ0FBQyxDQUFBO1FBQ0YsS0FBSyxHQUFHLFVBQVUsQ0FBQyxHQUFHLEVBQUU7WUFDdEIsRUFBRSxDQUFDLFdBQVcsRUFBRSxDQUFBO1lBQ2hCLEVBQUUsQ0FBQyxTQUFTLENBQUM7Z0JBQ1gsS0FBSyxFQUFFLE1BQU07YUFDZCxDQUFDLENBQUE7WUFDRixJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUE7UUFDbEMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFBO0lBQ1YsQ0FBQztJQUNELFNBQVM7UUFDUCxFQUFFLENBQUMsV0FBVyxFQUFFLENBQUE7UUFDaEIsWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFBO0lBQ3JCLENBQUM7SUFDRCxpQkFBaUIsS0FBSSxDQUFDO0NBQ3ZCLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImxldCB0aW1lcjogYW55XG5cblBhZ2Uoe1xuICBkYXRhOiB7XG4gICAgdHJpZ2dlcjogZmFsc2UsXG4gICAgdGl0bGU6ICfkuIvmi4nliLfmlrAnLFxuICB9LFxuICBvbkxvYWQoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGV2ZW50Q2hhbm5lbCA9IHRoaXMuZ2V0T3BlbmVyRXZlbnRDaGFubmVsKClcbiAgICAgIGV2ZW50Q2hhbm5lbC5vbignbG9hZCcsICh7IHRpdGxlIH0pID0+IHtcbiAgICAgICAgdGhpcy5zZXREYXRhKHsgdGl0bGUgfSlcbiAgICAgICAgd3guc2V0TmF2aWdhdGlvbkJhclRpdGxlKHtcbiAgICAgICAgICB0aXRsZSxcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfSBjYXRjaCAoZXJyb3IpIHt9XG4gIH0sXG4gIG9uUmVmcmVzaCgpIHtcbiAgICB3eC5zaG93TG9hZGluZyh7XG4gICAgICB0aXRsZTogJ+WKoOi9veS4rScsXG4gICAgfSlcbiAgICB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgd3guaGlkZUxvYWRpbmcoKVxuICAgICAgd3guc2hvd1RvYXN0KHtcbiAgICAgICAgdGl0bGU6ICfliqDovb3miJDlip8nLFxuICAgICAgfSlcbiAgICAgIHRoaXMuc2V0RGF0YSh7IHRyaWdnZXI6IGZhbHNlIH0pXG4gICAgfSwgMzAwMClcbiAgfSxcbiAgb25SZXN0b3JlKCkge1xuICAgIHd4LmhpZGVMb2FkaW5nKClcbiAgICBjbGVhclRpbWVvdXQodGltZXIpXG4gIH0sXG4gIG9uU2hhcmVBcHBNZXNzYWdlKCkge30sXG59KVxuIl19