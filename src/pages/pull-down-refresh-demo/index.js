"use strict";
let timer;
Page({
    data: {
        trigger: false,
        title: '下拉刷新',
    },
    onLoad() {
        try {
            const eventChannel = this.getOpenerEventChannel();
            eventChannel.on('load', ({ title }) => {
                this.setData({ title });
                wx.setNavigationBarTitle({
                    title,
                });
            });
        }
        catch (error) { }
    },
    onRefresh() {
        wx.showLoading({
            title: '加载中',
        });
        timer = setTimeout(() => {
            wx.hideLoading();
            wx.showToast({
                title: '加载成功',
            });
            this.setData({ trigger: false });
        }, 3000);
    },
    onRestore() {
        wx.hideLoading();
        clearTimeout(timer);
    },
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsSUFBSSxLQUFVLENBQUE7QUFFZCxJQUFJLENBQUM7SUFDSCxJQUFJLEVBQUU7UUFDSixPQUFPLEVBQUUsS0FBSztRQUNkLEtBQUssRUFBRSxNQUFNO0tBQ2Q7SUFDRCxNQUFNO1FBQ0osSUFBSTtZQUNGLE1BQU0sWUFBWSxHQUFHLElBQUksQ0FBQyxxQkFBcUIsRUFBRSxDQUFBO1lBQ2pELFlBQVksQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFO2dCQUNwQyxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQTtnQkFDdkIsRUFBRSxDQUFDLHFCQUFxQixDQUFDO29CQUN2QixLQUFLO2lCQUNOLENBQUMsQ0FBQTtZQUNKLENBQUMsQ0FBQyxDQUFBO1NBQ0g7UUFBQyxPQUFPLEtBQUssRUFBRSxHQUFFO0lBQ3BCLENBQUM7SUFDRCxTQUFTO1FBQ1AsRUFBRSxDQUFDLFdBQVcsQ0FBQztZQUNiLEtBQUssRUFBRSxLQUFLO1NBQ2IsQ0FBQyxDQUFBO1FBQ0YsS0FBSyxHQUFHLFVBQVUsQ0FBQyxHQUFHLEVBQUU7WUFDdEIsRUFBRSxDQUFDLFdBQVcsRUFBRSxDQUFBO1lBQ2hCLEVBQUUsQ0FBQyxTQUFTLENBQUM7Z0JBQ1gsS0FBSyxFQUFFLE1BQU07YUFDZCxDQUFDLENBQUE7WUFDRixJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUE7UUFDbEMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFBO0lBQ1YsQ0FBQztJQUNELFNBQVM7UUFDUCxFQUFFLENBQUMsV0FBVyxFQUFFLENBQUE7UUFDaEIsWUFBWSxDQUFDLEtBQUssQ0FBQyxDQUFBO0lBQ3JCLENBQUM7Q0FDRixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgdGltZXI6IGFueVxuXG5QYWdlKHtcbiAgZGF0YToge1xuICAgIHRyaWdnZXI6IGZhbHNlLFxuICAgIHRpdGxlOiAn5LiL5ouJ5Yi35pawJyxcbiAgfSxcbiAgb25Mb2FkKCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBldmVudENoYW5uZWwgPSB0aGlzLmdldE9wZW5lckV2ZW50Q2hhbm5lbCgpXG4gICAgICBldmVudENoYW5uZWwub24oJ2xvYWQnLCAoeyB0aXRsZSB9KSA9PiB7XG4gICAgICAgIHRoaXMuc2V0RGF0YSh7IHRpdGxlIH0pXG4gICAgICAgIHd4LnNldE5hdmlnYXRpb25CYXJUaXRsZSh7XG4gICAgICAgICAgdGl0bGUsXG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7fVxuICB9LFxuICBvblJlZnJlc2goKSB7XG4gICAgd3guc2hvd0xvYWRpbmcoe1xuICAgICAgdGl0bGU6ICfliqDovb3kuK0nLFxuICAgIH0pXG4gICAgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHd4LmhpZGVMb2FkaW5nKClcbiAgICAgIHd4LnNob3dUb2FzdCh7XG4gICAgICAgIHRpdGxlOiAn5Yqg6L295oiQ5YqfJyxcbiAgICAgIH0pXG4gICAgICB0aGlzLnNldERhdGEoeyB0cmlnZ2VyOiBmYWxzZSB9KVxuICAgIH0sIDMwMDApXG4gIH0sXG4gIG9uUmVzdG9yZSgpIHtcbiAgICB3eC5oaWRlTG9hZGluZygpXG4gICAgY2xlYXJUaW1lb3V0KHRpbWVyKVxuICB9LFxufSlcbiJdfQ==