"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
let timer;
Page({
    data: {
        trigger: false,
        items: 15,
        status: 'ready',
    },
    onTolower() {
        let { items, status } = this.data;
        if (status === 'loading' || status === 'loaded')
            return;
        this.setData({ status: 'loading' });
        setTimeout(() => {
            if (items > 50) {
                status = 'loaded';
            }
            else {
                status = '';
                items += 5;
            }
            this.setData({ status, items });
        }, 2000);
    },
    onRefresh() {
        timer = setTimeout(() => {
            wx.showToast({
                title: '刷新成功',
                icon: 'none',
            });
            this.setData({ trigger: false, items: 15, status: 'ready' });
        }, 1000);
    },
    onRestore() {
        clearTimeout(timer);
    },
    onShareAppMessage() { },
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQUksS0FBVSxDQUFBO0FBRWQsSUFBSSxDQUFDO0lBQ0gsSUFBSSxFQUFFO1FBQ0osT0FBTyxFQUFFLEtBQUs7UUFDZCxLQUFLLEVBQUUsRUFBRTtRQUNULE1BQU0sRUFBRSxPQUFPO0tBQ2hCO0lBQ0QsU0FBUztRQUNQLElBQUksRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQTtRQUNqQyxJQUFJLE1BQU0sS0FBSyxTQUFTLElBQUksTUFBTSxLQUFLLFFBQVE7WUFBRSxPQUFNO1FBQ3ZELElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxNQUFNLEVBQUUsU0FBUyxFQUFFLENBQUMsQ0FBQTtRQUNuQyxVQUFVLENBQUMsR0FBRyxFQUFFO1lBQ2QsSUFBSSxLQUFLLEdBQUcsRUFBRSxFQUFFO2dCQUNkLE1BQU0sR0FBRyxRQUFRLENBQUE7YUFDbEI7aUJBQU07Z0JBQ0wsTUFBTSxHQUFHLEVBQUUsQ0FBQTtnQkFDWCxLQUFLLElBQUksQ0FBQyxDQUFBO2FBQ1g7WUFDRCxJQUFJLENBQUMsT0FBTyxDQUFDLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUE7UUFDakMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFBO0lBQ1YsQ0FBQztJQUNELFNBQVM7UUFDUCxLQUFLLEdBQUcsVUFBVSxDQUFDLEdBQUcsRUFBRTtZQUN0QixFQUFFLENBQUMsU0FBUyxDQUFDO2dCQUNYLEtBQUssRUFBRSxNQUFNO2dCQUNiLElBQUksRUFBRSxNQUFNO2FBQ2IsQ0FBQyxDQUFBO1lBQ0YsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLENBQUMsQ0FBQTtRQUM5RCxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUE7SUFDVixDQUFDO0lBQ0QsU0FBUztRQUNQLFlBQVksQ0FBQyxLQUFLLENBQUMsQ0FBQTtJQUNyQixDQUFDO0lBQ0QsaUJBQWlCLEtBQUksQ0FBQztDQUN2QixDQUFDLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgdGltZXI6IGFueVxuXG5QYWdlKHtcbiAgZGF0YToge1xuICAgIHRyaWdnZXI6IGZhbHNlLFxuICAgIGl0ZW1zOiAxNSxcbiAgICBzdGF0dXM6ICdyZWFkeScsXG4gIH0sXG4gIG9uVG9sb3dlcigpIHtcbiAgICBsZXQgeyBpdGVtcywgc3RhdHVzIH0gPSB0aGlzLmRhdGFcbiAgICBpZiAoc3RhdHVzID09PSAnbG9hZGluZycgfHwgc3RhdHVzID09PSAnbG9hZGVkJykgcmV0dXJuXG4gICAgdGhpcy5zZXREYXRhKHsgc3RhdHVzOiAnbG9hZGluZycgfSlcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlmIChpdGVtcyA+IDUwKSB7XG4gICAgICAgIHN0YXR1cyA9ICdsb2FkZWQnXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGF0dXMgPSAnJ1xuICAgICAgICBpdGVtcyArPSA1XG4gICAgICB9XG4gICAgICB0aGlzLnNldERhdGEoeyBzdGF0dXMsIGl0ZW1zIH0pXG4gICAgfSwgMjAwMClcbiAgfSxcbiAgb25SZWZyZXNoKCkge1xuICAgIHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB3eC5zaG93VG9hc3Qoe1xuICAgICAgICB0aXRsZTogJ+WIt+aWsOaIkOWKnycsXG4gICAgICAgIGljb246ICdub25lJyxcbiAgICAgIH0pXG4gICAgICB0aGlzLnNldERhdGEoeyB0cmlnZ2VyOiBmYWxzZSwgaXRlbXM6IDE1LCBzdGF0dXM6ICdyZWFkeScgfSlcbiAgICB9LCAxMDAwKVxuICB9LFxuICBvblJlc3RvcmUoKSB7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVyKVxuICB9LFxuICBvblNoYXJlQXBwTWVzc2FnZSgpIHt9LFxufSlcblxuZXhwb3J0IHt9XG4iXX0=